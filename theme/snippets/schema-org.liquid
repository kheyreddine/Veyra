{% comment %} 
    Schema.org Structured Data for Veyra Clothing 
    - Enhanced SEO with comprehensive structured data 
    - Improves search engine understanding and rich snippets 
    - Addresses Lighthouse SEO recommendations 
    - Demonstrates advanced Shopify development skills 
{% endcomment %}

<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "{{ shop.name }}",
    "url": "{{ shop.url }}",
    "logo": "{{ shop.logo | image_url: width: 600 }}",
    "description": "{{ shop.description | default: 'Modern fashion essentials designed for the contemporary lifestyle' }}",
    "foundingDate": "2024",
    "address": {
      "@type": "PostalAddress",
      "addressCountry": "{{ shop.address.country_code | default: 'US' }}"
    },
    "contactPoint": {
      "@type": "ContactPoint",
      "contactType": "customer service",
      "email": "{{ shop.email | default: 'hello@veyra-clothing.com' }}"
    },
    "sameAs": ["https://github.com/kheyreddine/Veyra"]
  }
</script>

{% comment %} 
    WebSite Schema for better search understanding 
{% endcomment %}
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "{{ shop.name }}",
    "url": "{{ shop.url }}",
    "description": "{{ shop.description | default: 'Discover our curated collection of modern fashion essentials designed for the contemporary lifestyle' }}",
    "publisher": {
      "@type": "Organization",
      "name": "{{ shop.name }}"
    },
    "potentialAction": {
      "@type": "SearchAction",
      "target": "{{ shop.url }} /search?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
</script>

{% comment %} 
    BreadcrumbList Schema for navigation structure 
{% endcomment %}
{% if template contains 'collection' or template contains 'product' %}
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
            {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "{{ shop.url }}"
        }
        {% if template contains 'collection' %}, {
            "@type": "ListItem",
            "position": 2,
            "name": "{{ collection.title }}",
            "item": "{{ collection.url }}"
          }
          {% endif %}
          {% if template contains 'product' %}, {
              "@type": "ListItem",
              "position": 2,
              "name": "{{ collection.title | default: 'Products' }}",
              "item": "{{ collection.url | default: shop.url }} /collections/all"
            }, {
              "@type": "ListItem",
              "position": 3,
              "name": "{{ product.title }}",
              "item": "{{ product.url }}"
            }
            {% endif %}
          ]
        }
  </script>
{% endif %}

{% comment %} 
    Product Schema for product pages 
{% endcomment %}
{% if template contains 'product' %}
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Product",
      "name": "{{ product.title }}",
      "description": "{{ product.description | strip_html | truncate: 200 }}",
      "image": [{% for image in product.images %}"{{ image | image_url: width: 800, format: 'webp' }}"{% unless forloop.last %},{% endunless %}
      {% endfor %}],
    "brand": {
      "@type": "Brand",
      "name": "{{ product.vendor }}"
    },
    "offers": {
      "@type": "Offer",
      "price": "{{ product.price | divided_by: 100.0 }}",
      "priceCurrency": "{{ shop.currency }}",
      "availability": "{% if product.available %} https://schema.org/InStock{% else %}https://schema.org/OutOfStock{% endif %}",
      "url": "{{ product.url }}",
      "priceValidUntil": "{{ 'now' | date: '%s' | plus: 31536000 | date: '%Y-%m-%d' }}"
    }
    {% if product.variants.size > 1 %},
      "hasVariant" : [
        {% for variant in product.variants %}
          {
            "@type": "Product",
            "name": "{{ product.title }} - {{ variant.title }}",
            "sku": "{{ variant.sku }}",
            "offers": {
              "@type": "Offer",
              "price": "{{ variant.price | divided_by: 100.0 }}",
              "priceCurrency": "{{ shop.currency }}",
              "availability": "{% if variant.available %} https://schema.org/InStock{% else %}https://schema.org/OutOfStock{% endif %}"
            }
          }{% unless forloop.last %},{% endunless %}
        {% endfor %}
      ]
      {% endif %}
    }
  </script>
{% endif %}

{% comment %} 
    Collection Schema for collection pages 
{% endcomment %}
{% if template contains 'collection' %}
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "CollectionPage",
      "name": "{{ collection.title }}",
      "description": "{{ collection.description | strip_html | truncate: 200 }}",
      "url": "{{ collection.url }}",
      "mainEntity": {
        "@type": "ItemList",
        "numberOfItems": "{{ collection.products_count }}",
        "itemListElement": [
          {% for product in collection.products limit: 10 %}
            {
              "@type": "ListItem",
              "position": "{{ forloop.index }}",
              "item": {
                "@type": "Product",
                "name": "{{ product.title }}",
                "url": "{{ product.url }}",
                "image": "{{ product.featured_image | image_url: width: 400, format: 'webp' }}"
              }
            }{% unless forloop.last %},{% endunless %}
          {% endfor %}
        ]
      }
    }
  </script>
{% endif %}

{% comment %} 
    Article Schema for blog posts 
{% endcomment %}
{% if template contains 'article' %}
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "{{ article.title }}",
      "description": "{{ article.excerpt_or_content | strip_html | truncate: 200 }}",
      "image": "{{ article.image | image_url: width: 800, format: 'webp' }}",
      "author": {
        "@type": "Person",
        "name": "{{ article.author | default: shop.name }}"
      },
      "publisher": {
        "@type": "Organization",
        "name": "{{ shop.name }}",
        "logo": {
          "@type": "ImageObject",
          "url": "{{ shop.logo | image_url: width: 600 }}"
        }
      },
      "datePublished": "{{ article.published_at | date: '%Y-%m-%d' }}",
      "dateModified": "{{ article.updated_at | date: '%Y-%m-%d' }}",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "{{ article.url }}"
      }
    }
  </script>
{% endif %}

{% comment %} 
    LocalBusiness Schema for contact information 
{% endcomment %}
{% if template contains 'page.contact' %}
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "{{ shop.name }}",
      "description": "{{ shop.description | default: 'Modern fashion essentials designed for the contemporary lifestyle' }}",
      "url": "{{ shop.url }}",
      "telephone": "{{ shop.phone | default: '+1-555-123-4567' }}",
      "email": "{{ shop.email | default: 'hello@veyra-clothing.com' }}",
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "{{ shop.address.country_code | default: 'US' }}",
        "addressLocality": "{{ shop.address.city | default: 'New York' }}",
        "addressRegion": "{{ shop.address.province | default: 'NY' }}"
      },
      "openingHours": "Mo-Fr 09:00-18:00",
      "sameAs": ["https://github.com/kheyreddine/Veyra"]
    }
  </script>
{% endif %}

{% comment %} 
    FAQ Schema for FAQ sections 
{% endcomment %}
{% if template contains 'page.faq' or section.settings.show_faq %}
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is Veyra Clothing?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Veyra Clothing is a modern fashion brand offering curated collections of contemporary essentials designed for the modern lifestyle."
          }
        }, {
          "@type": "Question",
          "name": "How can I contact customer service?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "You can reach our customer service team via email at hello@veyra-clothing.com or through our contact form on the website."
          }
        }, {
          "@type": "Question",
          "name": "What is your return policy?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "We offer a 30-day return policy for all items in their original condition. Please contact our customer service team to initiate a return."
          }
        }
      ]
    }
  </script>
{% endif %}